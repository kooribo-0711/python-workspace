<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë¯¸ì§€í•„í„°</title>
</head>
<body>
    <h1>
        <a href="/">ë‚´ Flask ë¸”ë¡œê·¸</a>
    </h1>
    <h1>ì´ë¯¸ì§€ í•„í„°</h1>
    <nav>
        <a href="/">home</a>
        <a href="/about">About</a>
        <a href="/image">Image</a>
    </nav>
    <!-- ì„¤ë¬¸ì§€ í¼ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íŠ¹ì • ì£¼ì œì— ë§ëŠ” í¼ì„ ìœ ì €ë“¤ì—ê²Œ ì œê³µ
     ìœ ì €ë“¤ì´ ì„ íƒí•œ í¼(=ì„¤ë¬¸ì§€)ë¥¼ ë°”íƒ•ìœ¼ë¡œ íšŒì›ê°€ì…ì„ ì§„í–‰í•˜ê±°ë‚˜
     ì´ë¯¸ì§€ ìˆ˜ì •ì— ëŒ€í•œ ìœ ì €ë“¤ì˜ ì˜ê²¬ì„ í™”ë©´ìœ¼ë¡œ ì „ë‹¬ë°›ì€ í›„ ì˜ê²¬ ê²°ê³¼ë¥¼ í™•ì¸
     
     label : input ì…ë ¥ì°½ ì•ì— ë¶™ì´ëŠ” ì„¤ëª… ì´ë¦„í‘œ / ê°œë°œìê°€ ì•„ë‹ˆë¼ ìœ ì €ë“¤ì„ ìœ„í•œ ì´ë¦„í‘œ
             ì´ë¦„, ë¹„ë°€ë²ˆí˜¸, ë‚˜ì´ ê°™ì€ ì•ˆë‚´ë¬¸
             ìœ ì €ë“¤ì´ ë„¤ëª¨ì¹¸ ì•ˆì— ì–´ë–¤ ë°ì´í„°ë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” í‘œê¸°
             íƒœê·¸ ë‚´ë¶€ì— ì‘ì„±í•œfor="ì•„ì´ë””ëª…ì¹­" ê³¼ 
             inputì—ì„œ ì‘ì„±í•œ id="ì•„ì´ë””ëª…ì¹­" ì´ ì¼ì¹˜í•˜ë©´
             inputì°½ ëŒ€ì‹  labelëª…ì¹­ì„ ì„ íƒí•´ë„ inputì´ ë™ì‘í•œë‹¤
     input : ìœ ì €ê°€ ì‘ì„±í•œ ë°ì´í„°
             ì‚¬ìš©ìê°€ ì…ë ¥í•  ìˆ˜ ìˆëŠ” ì°½. í…ìŠ¤íŠ¸, ìˆ«ì, ì´ë©”ì¼ ë“± ë‹¤ì–‘
     required : ì„¤ë¬¸ì§€ í¼(form)ì„ ì œì¶œí•  ë•Œ í•„ìˆ˜ë¡œ ì‘ì„±í•´ì•¼ í•˜ëŠ” ì¹¸
                ì´ë¦„         í•¸ë“œí°ë²ˆí˜¸     ì£¼ì†Œ       ê¸°ë…ì¼(ì„ íƒì—¬ë¶€ìˆìŒ)
                required     required      required
                í•„ìˆ˜         í•„ìˆ˜           í•„ìˆ˜      ì„ íƒì‚¬í•­
                ë§Œì•½ í•„ìˆ˜ì¸ë° ì‘ì„±í•˜ì§€ ì•Šì„ ê²½ìš°
                "ì´ í•„ë“œë¥¼ ì±„ì›Œì£¼ì„¸ìš”" ê²½ê³ ê°€ ëœ¨ë©° ì„¤ë¬¸ì§€ê°€ ì œì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.
     type : ì…ë ¥ì¢…ë¥˜. ì–´ë–¤ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì„ì§€ ê²°ì •
            ìë™ìœ¼ë¡œ í˜•ì‹ ê²€ì‚¬í•´ì¤Œ

            text     = ì¼ë°˜ê¸€ì
            number   = ì˜¤ì§ ìˆ«ìë§Œ ê°€ëŠ¥í•œ ì¹¸
            email    = @ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ë©° ìœ ì €ì˜ ì‘ì„±ì„ ë°›ëŠ” ì¹¸
            password = ë¹„ë°€ë²ˆí˜¸. ê¸€ì ì•ˆë³´ì´ê²Œ ì²˜ë¦¬
            date     = ë‚ ì§œ(ë‹¬ë ¥ë‚˜ì˜´)
            radio    = ë‹¤ìˆ˜ ì¤‘ í•˜ë‚˜ë§Œ ì„ íƒ
            checkbox = ì¤‘ë³µì„ íƒ ê°€ëŠ¥
     type="number"  
            step = number íƒ€ì…ì¼ ë•Œë§Œ ì‘ì„± ê°€ëŠ¥
                   ìˆ«ì ì…ë ¥ ì°½ì—ì„œ ëª‡ ë‹¨ìœ„ì”© ì¦ê°€/ê°ì†Œí• ì§€ ì„¤ì •
                   â–²â–¼ ë²„íŠ¼ ëˆ„ë¥´ë©´ step ë‹¨ìœ„ë¡œ ìˆ«ìê°€ ë³€í•¨
     value = ëŒ€ë¶€ë¶„ì˜ íƒ€ì…ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ì†ì„±
             ì†Œë¹„ìê°€ ì‘ì„±í•˜ê¸° ì–´ë ¤ì›Œ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ
             ê°œë°œìê°€ ê¸°ë³¸ê°’ì„ ë¯¸ë¦¬ ì‘ì„±
     placeholder = ëŒ€ë¶€ë¶„ì˜ íƒ€ì…ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ì†ì„±
                   inputì— ì–´ë–¤ ê°’ì„ ì¨ì•¼í•˜ëŠ”ì§€ hintì œê³µ
                   radioì™€ checkbox ì•ˆë¨
    -->
    <!-- ì´ë¯¸ì§€ í•„í„° ì ìš© ì´ë¯¸ì§€ ì‘ì—…ì„ ì œì¶œí•  ë•ŒëŠ” ë°˜ë“œì‹œ multipartë¥¼ ì„ íƒí•´ì„œ ì‘ì—… -->
    <form id="filterForm" enctype="multipart/form-data">
        <label for="íŒŒì¼ì„ íƒ">ğŸ“·</label>
        <!--
        íƒœê·¸ ë‚´ë¶€ì— styleì„ ì“´ ìš° ë””ìì¸ ì‘ì„± ê¸°ëŠ¥ ì‚¬ìš© ì§€ì–‘.
        ë””ìì¸ í•˜ëŠ” ì‚¬ëŒë“¤ì€ .cssì— ì‘ì„±í•˜ëŠ” ê²ƒì„ ì œì¼ ì„ í˜¸
        display:none
        display = í™”ë©´ì—ì„œ
        none    = ë³´ì´ì§€ ì•Šê²Œ ìˆ¨ê¸°ê¸°
                  ì‹¤ì œë¡œëŠ” inputì—ì„œ íŒŒì¼ì„ íƒì´ë¼ëŠ” inputì´ ë™ì‘í•˜ì§€ë§Œ 
                  ìœ ì €ë“¤ ëˆˆì—ëŠ” ğŸ“· í´ë¦­í–ˆì„ ë•Œ ë§ˆì¹˜ íŒŒì¼ ì„ íƒì´ ë˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì„
                  type="file" ë‚˜ì˜ ì»´í“¨í„°ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ ì„ íƒ
                  style="display: none;"
        -->
        <input id="íŒŒì¼ì„ íƒ" name="image" type="file" required><br>
        <div id="fileName">ì„ íƒëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
        <label for="ëŒ€ë¹„">ëŒ€ë¹„ : </label> 
        <input id="ëŒ€ë¹„" name="contrast" type="number" step="0.1" value="1.3">
        <br>
        <label for="ì±„ë„">ì±„ë„ : </label> 
        <input id="ì±„ë„" name="saturation" type="number" step="0.1" value="1.3">
        <br>
        <label for="ë°ê¸°">ë°ê¸° : </label> 
        <input id="ë°ê¸°" name="brightness" type="number" step="0.1" value="1.3">
        <br>
        <button>í•„í„° ì ìš©í•˜ê¸°</button>
    </form>

    <div id="previewArea">
        <h3>í•„í„° ì ìš© ê²°ê³¼</h3>
        <img id="resultImage">
</div>
    
    <!-- íŒŒì´ì¬ì—ì„œ ë§Œë“¤ì–´ë†“ì€ ì´ë¯¸ì§€í•„í„°ë¥¼ htmlì—ì„œ ì„ íƒí•˜ì—¬ ì‚¬ìš© -->
</body>
 <script>
        // íŒŒì¼ ì„ íƒ ì‹œ íŒŒì¼ëª… í‘œì‹œ
        document.getElementById('íŒŒì¼ì„ íƒ').addEventListener('change', function(e) {
            const fileName = e.target.files[0]?.name || 'ì„ íƒëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.';
            document.getElementById('fileName').textContent = fileName;
        });
        
        // í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('filterForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            try {
                const response = await fetch('/apply-filter', {
                    method: 'POST',
                    body: formData
                });
                
                if (response.ok) {
                    const blob = await response.blob();
                    const imageUrl = URL.createObjectURL(blob);
                    
                    document.getElementById('resultImage').src = imageUrl;
                    document.getElementById('previewArea').style.display = 'block';
                } else {
                    alert('í•„í„° ì ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                alert('ì—ëŸ¬: ' + error.message);
            }
        });
    </script>

</html>